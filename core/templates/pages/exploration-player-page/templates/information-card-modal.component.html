<mat-card class="md-padding">
  <div [ngStyle]="infoCardBackgroundCss" class="oppia-info-card-logo-thumbnail">
    <img [src]="getStaticImageUrl(infoCardBackgroundImageUrl)" class="oppia-info-card-bg-image">
    <h2 [ngStyle]="titleWrapper()" class="oppia-info-card-title">{{ explorationTitle }}</h2>
  </div>

  <div class="oppia-info-card-content">
    <p *ngIf="objective">
      {{ objective | truncateAndCapitalize: 95 }}
    </p>
    <p *ngIf="!objective" translate="I18N_PLAYER_NO_OBJECTIVE">No objective specified.</p>
    <p *ngIf="explorationIsPrivate" class="private-card-info" translate="I18N_PLAYER_IS_PRIVATE">This exploration is private.</p>

    <ul *ngIf="!explorationIsPrivate" layout="row" class="card-metrics" layout-align="space-between center">
      <li class="protractor-test-info-card-rating">
        <span class="fas fa-star fa-lg" [ngbTooltip]="'I18N_PLAYER_RATINGS_TOOLTIP' | translate" placement="top">
          <span class="oppia-icon-accessibility-label">{{ 'I18N_PLAYER_RATINGS_TOOLTIP' | translate }}</span>
        </span>
        <span *ngIf="!averageRating" translate="I18N_PLAYER_UNRATED">Unrated</span>
        <span *ngIf="averageRating">{{ averageRating | number:1 }}</span>
      </li>

      <li class="mr-0">
        <span class="far fa-eye" [ngbTooltip]="'I18N_PLAYER_VIEWS_TOOLTIP' | translate" placement="top">
          <span class="oppia-icon-accessibility-label">{{ 'I18N_PLAYER_VIEWS_TOOLTIP' | translate }}</span>
        </span>
        {{ numViews | summarizeNonnegativeNumber }}
      </li>

      <li class="mr-0">
        <span class="far fa-clock" [ngbTooltip]="'I18N_PLAYER_LAST_UPDATED_TOOLTIP' | translate" placement="top">
          <span class="oppia-icon-accessibility-label">{{ 'I18N_PLAYER_LAST_UPDATED_TOOLTIP' | translate }}</span>
        </span>
        {{ lastUpdatedString }}
      </li>

      <ul layout="row" layout-align="space-between center" class="oppia-info-card-exploration-contributors-profile">
        <i class="material-icons oppia-contributors-icon" [ngbTooltip]="'I18N_PLAYER_CONTRIBUTORS_TOOLTIP' | translate" placement="top">&#xE7EF;</i>
        <span class="oppia-icon-accessibility-label">{{ 'I18N_PLAYER_CONTRIBUTORS_TOOLTIP' | translate }}</span>
        <li *ngFor="let name of contributorNames| limitTo: 2"
            [ngbTooltip]="name" placement="top">
          <profile-link-image [username]="name">
          </profile-link-image>
        </li>

        <li *ngIf="contributorNames.length > 2" class="oppia-contributors-more-circle"
            [ngbTooltip]="contributorNames.slice(2).join(', ')"
            placement="top">+{{ contributorNames.length - 2 }}
        </li>
        <li *ngIf="contributorNames.length === 0"
            [ngbTooltip]="'I18N_PLAYER_COMMUNITY_EDITABLE_TOOLTIP' | translate"
            placement="top">
          <span class="far fa-globe fa-lg oppia-info-card-community-editable-icon"></span>
        </li>
      </ul>
    </ul>

    <div *ngIf="!explorationIsPrivate" class="oppia-info-card-bottom-row">
      <div flex="40" class="pb-1">
        <mat-content layout="row">
          <div class="oppia-info-card-tag-icon">
            <span class="fas fa-tags oppia-info-card-modal-tooltip"
                  [ngbTooltip]="'I18N_PLAYER_TAGS_TOOLTIP' | translate"
                  placement="top">
              <span class="oppia-icon-accessibility-label"><['I18N_PLAYER_TAGS_TOOLTIP' | translate]></span>
            </span>
          </div>
          <div layout-align="center center">
            <mat-chip *ngIf="explorationTags.tagsInTooltip.length > 0" class="oppia-info-card-tooltip-more"
                      [ngbTooltip]="explorationTags.tagsInTooltip.join(', ')"
                      placement="right">
                      translate="I18N_PLAYER_PLUS_TAGS"
                      translate-values="{additionalTagNumber: explorationTags.tagsInTooltip.length}"
            </mat-chip>
            <mat-chip *ngIf="explorationTags.tagsToShow.length > 0">
              {{ explorationTags.tagsToShow.join(", ") }}
            </mat-chip>
            <mat-chip *ngIf="explorationTags.tagsToShow.length === 0 &&
              explorationTags.tagsInTooltip.length === 0">
              <span><em>{{ 'I18N_PLAYER_NO_TAGS' | translate }}</em></span>
            </mat-chip>
          </div>
        </mat-content>
      </div>
      <div flex="60">
        <sharing-links flex="45" layoutType="row wrap" layoutAlignType="end center"
                       twitterText="DEFAULT_TWITTER_SHARE_MESSAGE_PLAYER"
                       shareType="exploration"
                       [explorationId]="explorationId">
        </sharing-links>
      </div>
    </div>
  </div>
  <button type="button" class="oppia-close-popover-button" (click)="cancel()">
    <i class="material-icons md-18 text-white">&#xE5CD;</i>
    <span class="oppia-icon-accessibility-label">Close</span>
  </button>
</mat-card>

<style>
  .oppia-info-card-content .private-card-info {
    color: red;
  }
  .oppia-info-card-bottom-row em {
    font-size: 0.75rem;
  }
  .oppia-info-card-content .oppia-contributors-icon {
    cursor: default;
    margin-right: 0.3125rem;
  }
  .oppia-info-card-content p {
    line-height: 1.5;
    padding-bottom: 0.5rem;
  }
  .oppia-info-card-bottom-row {
    line-height: 1.5;
  }
  .fas.fa-tags.oppia-info-card-modal-tooltip {
    margin-left: 0.0625rem;
    margin-right: 0.1875rem;
  }
</style>
